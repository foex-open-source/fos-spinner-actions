window.FOS=window.FOS||{},FOS.utils=window.FOS.utils||{},FOS.utils.spinnerActions=function(e){const s="fos-sa-overlay-body",n="fos-sa-overlay-region",t="fos-sa-region-has-overlay",o="fos-sa-region-has-spinner",r="fos-sa-spinner-has-overlay",a=".u-Processing[role=alert]",i=".fos-spinner-actions-custom[role=alert]";let l=function(s,n,t,o){let r=e(n);r[0].classList.add("fos-spinner-actions-custom"),r.attr("role","alert"),o&&r.attr("style",o.attr("style")),r.css({position:"absolute","z-index":999});let a='<style id="fos-spinner-actions-css-"'+s+">"+t+"</style>";return e("head").append(a),r},p=function(e,s,n){let t,o=".fos-sa-spinner.fos-sa-"+e+"-"+n+" .fos-sa-"+e;return["circle","ring","ellipsis","grid"].includes(e)?o+=" div ":"dual-ring"===e||"hourglass"===e?o+="::after":"roller"===e?o+=" div::after":"heart"===e&&(o+=" div, .fos-sa-spinner.fos-sa-heart-"+n+" .fos-sa-heart div::before, .fos-sa-spinner.fos-sa-heart-"+n+" .fos-sa-heart div::after "),t=["circle","heart","roller","ellipsis","grid"].includes(e)?"background: "+s+";":"ring"===e?"border-top-color: "+s+";":"border-top-color: "+s+"; border-bottom-color: "+s+";",o+"{ "+t+"}"},d=function(e){const s={circle:1,"dual-ring":0,heart:1,ring:4,roller:8,ellipsis:4,hourglass:0,grid:9};let n="fos-sa-"+e,t=document.createElement("div");t.classList.add(n);for(let n=0;n<s[e];n++)t.appendChild(document.createElement("div"));return t};return{showSpinner:function(s,n){let c,f,u;apex.debug.info("daContext",s),apex.debug.info("config",n);let y=this;s.action.affectedElementsType||(s.affectedElements=e("body")),s.affectedElements.each((function(s,h){if(u=e(h),!(u.children(a).length>0||u.children(i).length>0||u.hasClass(t))){if("none"!=n.spinnerType&&(c=apex.util.showSpinner(u,{fixed:"on-page"==n.overlayType,spinnerClass:n.spinnerClass,alert:n.accessText})),"custom"===n.spinnerType){let e=l(n.id,n.spinnerHTML,n.spinnerCSS,c);c[0].parentNode.replaceChild(e[0],c[0]),c=e}else if(n.spinnerType.includes("def-")){let s="fos-spinner-actions-custom-css-"+n.id,t=n.spinnerType.substr(4);if(c[0].classList.add("fos-sa-spinner","fos-sa-"+t+"-"+n.id),e("#"+s).length<1){let s='<style id="fos-spinner-actions-custom-css-'+n.id+'">'+p(t,n.spinnerColor,n.id)+"</style>";e("head").append(s)}c.empty();let o=d(t);e(o).prependTo(c)}else"default"===n.spinnerType&&(c.addClass("fos-sa-spinner-default"),n.spinnerColor&&""!=n.spinnerColor&&c.css("background-color",n.spinnerColor));f=n.id+"_"+s,c&&c.attr("id",f),"none"!=n.overlayType&&(c&&c.addClass(r),y.addOverlay(u,n,f)),"on-page"!=n.overlayType&&u.addClass(o)}}))},removeSpinner:function(s,n){let l,p,d,c=this;s.action.affectedElementsType||(s.affectedElements=e("body")),s.affectedElements.each((function(s,n){if(l=e(n).children(a),0==l.length&&(l=e(n).children(i)),0==l.length&&!e(n).hasClass(t))return;l.each((function(s,n){p=e(n),d=p.attr("id"),p.parent().removeClass(o),p.remove(),c.removeOverlay(d,p.hasClass(r))}));let f=e(n).children(".fos-sa-overlay-region");f.length>0&&c.removeOverlay(f.attr("data-spinner-id"),!1)}))},convertDefault:function(s,n){apex.debug.info("daContext",s),apex.debug.info("config",n);let t=this;apex.util.showSpinner=function(s,o){var r,a,i,c,f,u=apex.util.htmlBuilder(),y=e.extend({alert:apex.lang.getMessage("APEX.PROCESSING"),spinnerClass:""},o),h=s&&!y.fixed?e(s):e("body"),g=e(window),m=h.offset(),v={top:g.scrollTop(),left:g.scrollLeft()};if(n.spinnerType.includes("def-")){let s="fos-spinner-actions-custom-css-"+n.id,t=n.spinnerType.substr(4);if(e("#"+s).length<1){let s='<style id="fos-spinner-actions-custom-css-'+n.id+'">'+p(t,n.spinnerColor,n.id)+"</style>";e("head").append(s)}(r=e('<span class="fos-sa-spinner u-Processing" role="alert"></span>')).append(e(d(t))),r.addClass("fos-sa-"+t+"-"+n.id)}else"custom"==n.spinnerType?r=l(n.id,n.spinnerHTML,n.spinnerCSS):(u.markup("<span").attr("class","u-Processing"+(y.spinnerClass?" "+y.spinnerClass:"")).attr("role","alert").markup(">").markup("<span").attr("class","u-Processing-spinner").markup(">").markup("</span>").markup("<span").attr("class","u-VisuallyHidden").markup(">").content(y.alert).markup("</span>").markup("</span>"),r=e(u.toString()));if(r.appendTo(h),y.fixed?(i=(g.height()-r.height())/2,a=(g.width()-r.width())/2,r.css({position:"fixed",top:i+"px",left:a+"px"})):(v.bottom=v.top+g.height(),v.right=v.left+g.width(),m.bottom=m.top+h.outerHeight(),m.right=m.left+h.outerWidth(),i=m.top>v.top?m.top:v.top,c=((m.bottom<v.bottom?m.bottom:v.bottom)-i)/2,(f=v.top-m.top)>0&&(c+=f),r.position({my:"center",at:"left+50% top+"+c+"px",of:h,collision:"fit"})),"none"!=n.overlayType){let s=e(".fos-sa-spinner.u-Processing").length,o=n.id+"_"+parseFloat(s+1);r.attr("id",o),t.addOverlay(h,n,o),r.on("remove",(function(e){t.removeOverlay(o,"on-page"==n.overlayType)}))}return r}},addOverlay:function(o,r,a){if(e(".fos-sa-overlay-body").length>0)return;r.overlayOpacity<0?r.overlayOpacity=0:r.overlayOpacity>100&&(r.overlayOpacity=100);let
i=parseInt(r.overlayOpacity||50)/100,l=getComputedStyle(o[0]),p=parseInt(l.height)-(parseInt(l.paddingTop)+parseInt(l.paddingBottom)),d=parseInt(l.width)-(parseInt(l.paddingLeft)+parseInt(l.paddingRight)),c=e('<div style="height:'+p+"px;width:"+d+"px;background:"+r.overlayColor+";opacity:"+i+'" data-spinner-id="'+a+'"></div>');c.attr("class","on-page"==r.overlayType?s:n),c.prependTo(o),o.addClass(t),"on-page"==r.overlayType&&e("body").css({overflow:"hidden"})},removeOverlay:function(s,n){let o=e('[data-spinner-id="'+s+'"');0!=o.length&&(o.parent().removeClass(t),o.remove(),n&&e("body").css({overflow:"scroll"}))}}}(apex.jQuery);
//# sourceMappingURL=script.js.map

