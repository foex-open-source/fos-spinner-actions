window.FOS=window.FOS||{},FOS.utils=window.FOS.utils||{},FOS.utils.spinnerActions=function(e){const s="fos-sa-overlay-body",t="fos-sa-region-has-overlay",n="fos-sa-region-has-spinner",o="fos-sa-spinner-has-overlay",r=".u-Processing[role=alert]",a=".fos-spinner-actions-custom[role=alert]";let i=function(s,t,n,o){let r=e(t);r[0].classList.add("fos-spinner-actions-custom"),r.attr("role","alert"),o&&r.attr("style",o.attr("style")),r.css({position:"absolute","z-index":999});let a='<style id="fos-spinner-actions-css-"'+s+">"+n+"</style>";return e("head").append(a),r},l=function(e,s,t){let n,o=".fos-sa-spinner.fos-sa-"+e+"-"+t+" .fos-sa-"+e;return["circle","ring","ellipsis","grid"].includes(e)?o+=" div ":"dual-ring"===e||"hourglass"===e?o+="::after":"roller"===e?o+=" div::after":"heart"===e&&(o+=" div, .fos-sa-spinner.fos-sa-heart-"+t+" .fos-sa-heart div::before, .fos-sa-spinner.fos-sa-heart-"+t+" .fos-sa-heart div::after "),n=["circle","heart","roller","ellipsis","grid"].includes(e)?"background: "+s+";":"ring"===e?"border-top-color: "+s+";":"border-top-color: "+s+"; border-bottom-color: "+s+";",o+"{ "+n+"}"},p=function(e){const s={circle:1,"dual-ring":0,heart:1,ring:4,roller:8,ellipsis:4,hourglass:0,grid:9};let t="fos-sa-"+e,n=document.createElement("div");n.classList.add(t);for(let t=0;t<s[e];t++)n.appendChild(document.createElement("div"));return n};return{showSpinner:function(s,t){let d,c,f;apex.debug.info("daContext",s),apex.debug.info("config",t);let u=this;s.action.affectedElementsType||(s.affectedElements=e("body")),s.affectedElements.each((function(s,y){if(f=e(y),!(f.children(r).length>0||f.children(a).length>0)){if(d=apex.util.showSpinner(f,{fixed:"on-page"==t.overlayType,spinnerClass:t.spinnerClass,alert:t.accessText}),"custom"===t.spinnerType){let e=i(t.id,t.spinnerHTML,t.spinnerCSS,d);d[0].parentNode.replaceChild(e[0],d[0]),d=e}else if(t.spinnerType.includes("def-")){let s="fos-spinner-actions-custom-css-"+t.id,n=t.spinnerType.substr(4);if(d[0].classList.add("fos-sa-spinner","fos-sa-"+n+"-"+t.id),e("#"+s).length<1){let s='<style id="fos-spinner-actions-custom-css-'+t.id+'">'+l(n,t.spinnerColor,t.id)+"</style>";e("head").append(s)}d.empty();let o=p(n);e(o).prependTo(d)}else"default"===t.spinnerType&&(d.addClass("fos-sa-spinner-default"),t.spinnerColor&&""!=t.spinnerColor&&d.css("background-color",t.spinnerColor));c=t.id+"_"+s,d.attr("id",c),"none"!=t.overlayType&&(d.addClass(o),u.addOverlay(f,t,c)),"on-page"!=t.overlayType&&f.addClass(n)}}))},removeSpinner:function(s,t){let i,l,p,d=this;s.action.affectedElementsType||(s.affectedElements=e("body")),s.affectedElements.each((function(s,t){i=e(t).children(r),0==i.length&&(i=e(t).children(a)),0!=i.length&&i.each((function(s,t){l=e(t),p=l.attr("id"),l.parent().removeClass(n),l.remove(),d.removeOverlay(p,l.hasClass(o))}))}))},convertDefault:function(s,t){apex.debug.info("daContext",s),apex.debug.info("config",t);let n=this;apex.util.showSpinner=function(s,o){var r,a,d,c,f,u=apex.util.htmlBuilder(),y=e.extend({alert:apex.lang.getMessage("APEX.PROCESSING"),spinnerClass:""},o),h=s&&!y.fixed?e(s):e("body"),g=e(window),m=h.offset(),v={top:g.scrollTop(),left:g.scrollLeft()};if(t.spinnerType.includes("def-")){let s="fos-spinner-actions-custom-css-"+t.id,n=t.spinnerType.substr(4);if(e("#"+s).length<1){let s='<style id="fos-spinner-actions-custom-css-'+t.id+'">'+l(n,t.spinnerColor,t.id)+"</style>";e("head").append(s)}(r=e('<span class="fos-sa-spinner u-Processing" role="alert"></span>')).append(e(p(n))),r.addClass("fos-sa-"+n+"-"+t.id)}else"custom"==t.spinnerType?r=i(t.id,t.spinnerHTML,t.spinnerCSS):(u.markup("<span").attr("class","u-Processing"+(y.spinnerClass?" "+y.spinnerClass:"")).attr("role","alert").markup(">").markup("<span").attr("class","u-Processing-spinner").markup(">").markup("</span>").markup("<span").attr("class","u-VisuallyHidden").markup(">").content(y.alert).markup("</span>").markup("</span>"),r=e(u.toString()));if(r.appendTo(h),y.fixed?(d=(g.height()-r.height())/2,a=(g.width()-r.width())/2,r.css({position:"fixed",top:d+"px",left:a+"px"})):(v.bottom=v.top+g.height(),v.right=v.left+g.width(),m.bottom=m.top+h.outerHeight(),m.right=m.left+h.outerWidth(),d=m.top>v.top?m.top:v.top,c=((m.bottom<v.bottom?m.bottom:v.bottom)-d)/2,(f=v.top-m.top)>0&&(c+=f),r.position({my:"center",at:"left+50% top+"+c+"px",of:h,collision:"fit"})),"none"!=t.overlayType){let s=e(".fos-sa-spinner.u-Processing").length,o=t.id+"_"+parseFloat(s+1);r.attr("id",o),n.addOverlay(h,t,o),r.on("remove",(function(e){n.removeOverlay(o,"on-page"==t.overlayType)}))}return r}},addOverlay:function(n,o,r){if(e(".fos-sa-overlay-body").length>0)return;o.overlayOpacity<0?o.overlayOpacity=0:o.overlayOpacity>100&&(o.overlayOpacity=100);let a=parseInt(o.overlayOpacity||50)/100,i=getComputedStyle(n[0]),l=parseInt(i.height)-(parseInt(i.paddingTop)+parseInt(i.paddingBottom)),p=parseInt(i.width)-(parseInt(i.paddingLeft)+parseInt(i.paddingRight)),d=e('<div
style="height:'+l+"px;width:"+p+"px;background:"+o.overlayColor+";opacity:"+a+'" data-spinner-id="'+r+'"></div>');d.attr("class","on-page"==o.overlayType?s:"fos-sa-overlay-region"),d.prependTo(n),n.addClass(t),"on-page"==o.overlayType&&e("body").css({overflow:"hidden"})},removeOverlay:function(s,n){let o=e('[data-spinner-id="'+s+'"');0!=o.length&&(o.parent().removeClass(t),o.remove(),n&&e("body").css({overflow:"scroll"}))}}}(apex.jQuery);
//# sourceMappingURL=script.js.map

